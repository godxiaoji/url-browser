!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).URLHandler=r()}(this,(function(){"use strict";function t(t){var r=[];for(var e in t.query)r.push(e+"="+encodeURIComponent(t.query[e]));return t.queries=r,t.queryString=r.join("&"),t.search=0===r.length?"":"?"+t.queryString,t.href=t.origin+t.pathname+t.search+t.hash,t}return function(){function r(t,r){void 0===r&&(r="");var e=function(t){if("string"!=typeof t)throw new TypeError('"url" must be a string type.');try{var r=t.split("//"),e=r[0],n=(r=r[1].split("/")).shift(),i=n.split(":")[0],o=n.split(":")[1]||"",s="",h="",u="";(r=r.join("/").split("?"))[1]?(s="/"+r[0],h="?"+(r=r[1].split("#")).shift()):r[0]&&(s="/"+(r=r[0].split("#")).shift()),r[0]&&(u="#"+r[0]);var f=h.substr(1),p={},a=[];return h&&f.split("&").forEach((function(t){a.push(t),p[t.split("=")[0]]=decodeURIComponent(t.split("=")[1])})),{hash:u,search:h,host:n,hostname:i,pathname:s,protocol:e,port:o,href:t,origin:e+"//"+n,query:p,queries:a,queryString:f}}catch(t){throw new Error("Invalid URL.")}}(r+t);for(var n in e)this[n]=e[n];return this}return r.prototype.addQuery=function(r,e){var n,i=r;for(var o in"string"==typeof r&&((n={})[r]=e,i=n),i){var s=i[o];null!=s&&(this.query[o.toString()]=null==s?"":"object"==typeof s?JSON.stringify(s):s.toString())}return t(this)},r.prototype.removeQuery=function(r){var e=this,n=[];return"string"==typeof r?n=[r]:r instanceof Array&&(n=r),n.forEach((function(t){delete e.query[t]})),t(this)},r.prototype.setHash=function(t){return null==t?t="":0!==t.toString().indexOf("#")&&(t="#"+t),this.hash=t,this.href=this.origin+this.pathname+this.search+this.hash,this},r.prototype.toString=function(){return this.href},r}()}));
